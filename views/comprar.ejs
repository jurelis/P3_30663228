<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="icon" type="image/x-icon" href="img/limpieza.png" />
	<title>Fit_Life-Comprar</title>
	<style type="text/css">
		*{
			margin:0;
			padding:0;
			box-sizing:border-box;
		}
		@font-face{
			font-family:'dali';
			src:url('/fuentes/Zombie Predator TTF Personal.ttf');
		}
		body{
			background-image:url(/img/FondoUpdate.jpg);
			background-attachment: fixed;
			background-size: cover;
			background-position:top;
			color:white;
		}
		h1{
			display:flex;
			justify-content: center;
			align-items:center;
			margin-top:50px;
			font-weight:bold;
			color:rgb(235, 120, 216);
			font-family: sans-serif;
		}
		h1 span{
			font:2rem 'dali';	
		}
		form{
			display:flex;
			background:rgba(0,0,0,.6);
			flex-direction: column;
			justify-content: center;
			align-items: center;
			width:60%;
			height:auto;
			margin:50px auto;
			padding:1rem;
			border:10px solid white;
		}
		#confirmarCancelar{
			display:flex;
			justify-content: center;
			align-items: center;
			margin-top:20px;
		}
		#confirmarCancelar input:nth-child(1){
			background:rgb(13, 242, 104);
		}
		#confirmarCancelar input:nth-child(2){
			background:rgb(230, 63, 121);
		}
		#confirmarCancelar input{
			margin-right:30px;
			cursor:pointer;
			padding:.5rem;
			background:white;
			border:none;
			transition:all 1s;

		}
		#confirmarCancelar input:hover{
			transform: scale(1.1);

		}
		input{
			padding:.2rem;
			width: 69%;
			text-align:center;
			border:none;
			background:white;
			transition:all 1.3s;
		}
		
		#cantidad{
			border:1px solid black;
			width: 30%;
			border-radius:10px;
		}
		.divColumn{
			display:flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
			margin:.5rem;
			padding: .5rem;
			
		}
		#divCampos{
			display:flex;
			flex-wrap: wrap;
			justify-content: center;
			align-items:center;
			
		}
		label{
			font-weight:bold;
			font-size: 1.3rem;
			margin-bottom:10px;
		}
		#clave{
			width:99%;
		}
		select{
			background:white;
			transition: all 1.3s;
		}
		

		#divPricipal{
			position:relative;
		}
		#sectionFormulario{
			position: absolute;	
			z-index:2;
		}
	</style>
</head>
<body>

	<div id='divPricipal'>



		<section id='sectionFormulario'>

			<h1>¿<span>Esta seguro que desea realizar la compra</span>?</h1>

			<form action="/comprarPost" method='post'>

				<div id='divCampos'>

					<div class='divColumn'>
						<label style="color: rgb(235, 120, 216);">Nombre de usuario</label>
						<input type="text" name="nombre_de_usuario" value='<%= resultado.nombre_usuario%>' readonly>
					</div class='divColumn'>

					
					
					<div class='divColumn'>
						<label style="color: rgb(235, 120, 216);">Apellido</label>
						<input type="text" name="apellido" value="<%= resultado.apellido%>" readonly>
					</div>

					<div class='divColumn'>
						<label style="color: rgb(235, 120, 216);">Cedula</label>	
						<input type="number" name="cedula" value='<%=ip.cedula%>' readonly>
					</div>


					<div class='divColumn'>
						<label style="color: rgb(235, 120, 216);">Producto</label>
						<input type="text" name="telefono" value='<%= resultado.nombre%>' readonly>
					</div>
					
					<div class='divColumn'>
						<label style="color: rgb(235, 120, 216);">Cliente_id</label>
						<input type="number" name="cliente_id" value='<%= resultado.id%>' readonly>
					</div>

					<div class='divColumn'>
						<label style="color: rgb(235, 120, 216);">producto_id</label>
						<input type="number" name="producto_id" value='<%= resultado.producto_id%>' readonly>
					</div>

					
					<div class='divColumn'>
						<label style="color: rgb(235, 120, 216);">cantidad</label>
						<input type="number" name="cantidad" value='1' id='cantidad'>
					</div>
					
					<div class='divColumn'>
						<label style="color: rgb(235, 120, 216);">Total_pagado</label>
						<input type="number" name="total_pagado" value='<%= resultado.precio%>' id='Total_pagado' readonly>
					</div>

					<div class='divColumn'>
						<label style="color: rgb(235, 120, 216);">Codigo de operacion</label>
						<input type="number" name="codigo" value="<%=resultado.codigo%>" readonly>
					</div>

					<div class='divColumn'>
						<label style="color: rgb(235, 120, 216);">Numero de Tarjeta</label>
						<select name='numeroT' required>
							<option value=""></option>
							<option value='4111111111111111'>14913445265297</option>
							<option value='5555555555554444'>09983898959889</option>
							<option value='378282246310005'>093209325095098</option>
							
						</select>
					</div>

					<div class='divColumn'>
						<label style="color: rgb(235, 120, 216);">Mes de vencimiento</label>
						<input type="number" name="mesV" min="1" max="12" step="1" placeholder="mes" required>
					</div>

					<div class='divColumn'>
						<label style="color: rgb(235, 120, 216);">Año de vencimiento</label>
						<input type="number" min="1900" max="2099" step="1" placeholder="Año" name="year" required>
					</div>

					<div class='divColumn'>
						<label style="color: rgb(235, 120, 216);">Metodo de pago</label>
						<select name='currency'>
							<option></option>
							<option value="USD">USD</option>
							<option value="EUR">EUR</option>
							<option value="VES">VES</option>
						</select>
					</div>

					<div class='divColumn'>
						<label style="color: rgb(235, 120, 216);">Descripción</label>
						<input type="text" name="descripcion" value='<%=resultado.descripcion%>' readonly>
					</div>

					
					<div class='divColumn'>
						<label style="color: rgb(235, 120, 216);">Dirección IP</label>
						<input type="text" name="ip_cliente" value='<%= ip.ipAddress%>' readonly>
					</div>


					<div class='divColumn'>
						<label style="color: rgb(235, 120, 216);">Clave</label>
						<input type="number" name="cvv" placeholder="clave" min="1" max="999" step="1" id='clave' required>
					</div>
					
				</div>

				<div id='confirmarCancelar'>

					<input type="submit" value="Confirmar">
					<input type="button" value="Cancelar" onclick="redireccionar()">
					
				</div>

				
			</form>
			
		</section>
		
	</div>


	<script type="text/javascript">

		function redireccionar(){
			window.location.href='/clientes';
		}

		let clave = document.getElementById('clave');
		clave.addEventListener('input',()=>{
			if(clave.value > 999){
				clave.value=999;
			}
		})


		let cantidad = document.getElementById('cantidad');

		let total_pagado = document.getElementById('Total_pagado');

		const valorInicial = total_pagado.value;

		cantidad.addEventListener('input',function(){
			if(cantidad.value < 1){
				cantidad.value=1;
			}
			total_pagado.value = cantidad.value * valorInicial;
		});
	</script>
</body>
</html>